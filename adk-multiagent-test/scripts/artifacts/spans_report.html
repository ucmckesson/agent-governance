
<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>ADK Span Visualization</title>
  <script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs'; mermaid.initialize({startOnLoad:true});</script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .cards { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; margin-bottom: 16px; }
    .card { border: 1px solid #ddd; border-radius: 8px; padding: 10px; }
    table { width: 100%; border-collapse: collapse; margin-top: 8px; margin-bottom: 20px; }
    th, td { border: 1px solid #ddd; padding: 6px; font-size: 12px; text-align: left; }
    th { background: #f6f6f6; }
    details { margin-bottom: 10px; }
  </style>
</head>
<body>
  <h2>ADK + A2A + OTel Visualization</h2>
  <div class="cards">
    <div class="card"><b>Total spans</b><br/>52</div>
    <div class="card"><b>Traces</b><br/>3</div>
    <div class="card"><b>A2A spans</b><br/>3</div>
    <div class="card"><b>LLM spans</b><br/>8</div>
    <div class="card"><b>Guardrails</b><br/>16</div>
  </div>

  <h3>Communication graph</h3>
  <div class="mermaid">flowchart LR
  orchestrator["orchestrator"] -->|A2A x1| research_agent["research_agent"]
  research_agent["research_agent"] -->|A2A x1| validator_agent["validator_agent"]
  validator_agent["validator_agent"] -->|A2A x1| research_agent["research_agent"]
  Agent["Agent"] -->|Tool x3| transfer_to_agent["transfer_to_agent"]
  Agent["Agent"] -->|Tool x1| validate_data["validate_data"]
  Agent["Agent"] -->|Tool x1| web_lookup["web_lookup"]</div>

  <h3>A2A delegations</h3>
  <table>
    <thead><tr><th>timestamp</th><th>source</th><th>target</th><th>task_id</th><th>duration_ms</th></tr></thead>
    <tbody>
      <tr><td>2026-02-13T15:11:46.416791+00:00</td><td>orchestrator</td><td>research_agent</td><td>call_3JcYhKh1FiBBnJ6dKPaWBY0v</td><td>0.05</td></tr>
<tr><td>2026-02-13T15:11:52.993465+00:00</td><td>research_agent</td><td>validator_agent</td><td>call_4ecHPIVyRAlmVprYBGme4tIh</td><td>0.03</td></tr>
<tr><td>2026-02-13T15:12:10.743824+00:00</td><td>validator_agent</td><td>research_agent</td><td>call_zsxIFk1ItcnQi5GAWfN7cWcp</td><td>0.03</td></tr>
    </tbody>
  </table>

  <h3>Tool calls</h3>
  <table>
    <thead><tr><th>timestamp</th><th>tool</th><th>tool_call_id</th><th>duration_ms</th></tr></thead>
    <tbody>
      <tr><td>2026-02-13T15:11:46.420944+00:00</td><td>transfer_to_agent</td><td>call_3JcYhKh1FiBBnJ6dKPaWBY0v</td><td>0.58</td></tr>
<tr><td>2026-02-13T15:11:52.994181+00:00</td><td>transfer_to_agent</td><td>call_4ecHPIVyRAlmVprYBGme4tIh</td><td>0.26</td></tr>
<tr><td>2026-02-13T15:11:55.657185+00:00</td><td>validate_data</td><td>call_NeUmvFEuAO2RYkHhThGaWDE7</td><td>0.53</td></tr>
<tr><td>2026-02-13T15:12:10.745000+00:00</td><td>transfer_to_agent</td><td>call_zsxIFk1ItcnQi5GAWfN7cWcp</td><td>0.29</td></tr>
<tr><td>2026-02-13T15:12:30.219458+00:00</td><td>web_lookup</td><td>call_TJj615HPVpIMIi8RyiNNfirC</td><td>0.42</td></tr>
    </tbody>
  </table>

  <h3>LLM calls</h3>
  <table>
    <thead><tr><th>timestamp</th><th>model</th><th>input_tokens</th><th>output_tokens</th><th>duration_ms</th></tr></thead>
    <tbody>
      <tr><td>2026-02-13T15:11:42.744101+00:00</td><td>mckopenai-gpt5-2025-08-07</td><td>441</td><td>155</td><td>6470.44</td></tr>
<tr><td>2026-02-13T15:11:46.425044+00:00</td><td>mckopenai-gpt5-2025-08-07</td><td>506</td><td>140</td><td>2789.39</td></tr>
<tr><td>2026-02-13T15:11:49.217629+00:00</td><td>mckopenai-gpt5-2025-08-07</td><td>524</td><td>219</td><td>10018.20</td></tr>
<tr><td>2026-02-13T15:11:52.995748+00:00</td><td>mckopenai-gpt5-2025-08-07</td><td>601</td><td>153</td><td>2662.40</td></tr>
<tr><td>2026-02-13T15:11:55.662192+00:00</td><td>mckopenai-gpt5-2025-08-07</td><td>641</td><td>15</td><td>3573.49</td></tr>
<tr><td>2026-02-13T15:11:59.240727+00:00</td><td>mckopenai-gpt5-2025-08-07</td><td>672</td><td>609</td><td>69528.43</td></tr>
<tr><td>2026-02-13T15:12:10.747120+00:00</td><td>mckopenai-gpt5-2025-08-07</td><td>710</td><td>1761</td><td>19473.05</td></tr>
<tr><td>2026-02-13T15:12:30.222406+00:00</td><td>mckopenai-gpt5-2025-08-07</td><td>779</td><td>3077</td><td>38546.63</td></tr>
    </tbody>
  </table>

  <h3>Per-trace timeline</h3>
  <details><summary>4691928e3a49341d8b3198973130fcdf (15 spans)</summary><table><thead><tr><th>ts</th><th>span</th><th>duration_ms</th></tr></thead><tbody><tr><td>2026-02-13T15:11:42.743393+00:00</td><td>agent_request</td><td>6471.47</td></tr><tr><td>2026-02-13T15:11:42.743548+00:00</td><td>invocation</td><td>6471.06</td></tr><tr><td>2026-02-13T15:11:42.743647+00:00</td><td>invoke_agent orchestrator</td><td>6470.95</td></tr><tr><td>2026-02-13T15:11:42.743692+00:00</td><td>guardrail.pii_guardrail</td><td>0.01</td></tr><tr><td>2026-02-13T15:11:42.743737+00:00</td><td>guardrail.topic_blocklist</td><td>0.01</td></tr><tr><td>2026-02-13T15:11:42.744101+00:00</td><td>call_llm</td><td>6470.44</td></tr><tr><td>2026-02-13T15:11:42.744129+00:00</td><td>generate_content mckopenai-gpt5-2025-08-07</td><td>6470.40</td></tr><tr><td>2026-02-13T15:11:46.416791+00:00</td><td>a2a_delegation</td><td>0.05</td></tr><tr><td>2026-02-13T15:11:46.420944+00:00</td><td>execute_tool transfer_to_agent</td><td>0.58</td></tr><tr><td>2026-02-13T15:11:46.421852+00:00</td><td>invoke_agent research_agent</td><td>2792.66</td></tr><tr><td>2026-02-13T15:11:46.422129+00:00</td><td>guardrail.pii_guardrail</td><td>0.03</td></tr><tr><td>2026-02-13T15:11:46.422218+00:00</td><td>guardrail.topic_blocklist</td><td>0.01</td></tr><tr><td>2026-02-13T15:11:46.425044+00:00</td><td>call_llm</td><td>2789.39</td></tr><tr><td>2026-02-13T15:11:46.425141+00:00</td><td>generate_content mckopenai-gpt5-2025-08-07</td><td>2789.27</td></tr><tr><td>2026-02-13T15:11:49.214071+00:00</td><td>guardrail.toxicity_guardrail</td><td>0.03</td></tr></tbody></table></details><details><summary>20bc7e213f755ee7875d681dd5c2d0ed (19 spans)</summary><table><thead><tr><th>ts</th><th>span</th><th>duration_ms</th></tr></thead><tbody><tr><td>2026-02-13T15:11:49.215297+00:00</td><td>agent_request</td><td>10021.10</td></tr><tr><td>2026-02-13T15:11:49.215582+00:00</td><td>invocation</td><td>10020.34</td></tr><tr><td>2026-02-13T15:11:49.215956+00:00</td><td>invoke_agent research_agent</td><td>10019.94</td></tr><tr><td>2026-02-13T15:11:49.216055+00:00</td><td>guardrail.pii_guardrail</td><td>0.02</td></tr><tr><td>2026-02-13T15:11:49.216114+00:00</td><td>guardrail.topic_blocklist</td><td>0.01</td></tr><tr><td>2026-02-13T15:11:49.217629+00:00</td><td>call_llm</td><td>10018.20</td></tr><tr><td>2026-02-13T15:11:49.217695+00:00</td><td>generate_content mckopenai-gpt5-2025-08-07</td><td>10018.12</td></tr><tr><td>2026-02-13T15:11:52.993465+00:00</td><td>a2a_delegation</td><td>0.03</td></tr><tr><td>2026-02-13T15:11:52.994181+00:00</td><td>execute_tool transfer_to_agent</td><td>0.26</td></tr><tr><td>2026-02-13T15:11:52.994620+00:00</td><td>invoke_agent validator_agent</td><td>6241.17</td></tr><tr><td>2026-02-13T15:11:52.994717+00:00</td><td>guardrail.pii_guardrail</td><td>0.01</td></tr><tr><td>2026-02-13T15:11:52.994770+00:00</td><td>guardrail.topic_blocklist</td><td>0.01</td></tr><tr><td>2026-02-13T15:11:52.995748+00:00</td><td>call_llm</td><td>2662.40</td></tr><tr><td>2026-02-13T15:11:52.995793+00:00</td><td>generate_content mckopenai-gpt5-2025-08-07</td><td>2662.32</td></tr><tr><td>2026-02-13T15:11:55.657185+00:00</td><td>execute_tool validate_data</td><td>0.53</td></tr><tr><td>2026-02-13T15:11:55.662192+00:00</td><td>call_llm</td><td>3573.49</td></tr><tr><td>2026-02-13T15:11:55.662295+00:00</td><td>generate_content mckopenai-gpt5-2025-08-07</td><td>3573.37</td></tr><tr><td>2026-02-13T15:11:59.234958+00:00</td><td>guardrail.toxicity_guardrail</td><td>0.03</td></tr><tr><td>2026-02-13T15:11:59.235066+00:00</td><td>guardrail.schema_guardrail</td><td>0.19</td></tr></tbody></table></details><details><summary>29f542c4fe4bfafb7040e59c1f447603 (18 spans)</summary><table><thead><tr><th>ts</th><th>span</th><th>duration_ms</th></tr></thead><tbody><tr><td>2026-02-13T15:11:59.237344+00:00</td><td>agent_request</td><td>69532.26</td></tr><tr><td>2026-02-13T15:11:59.237743+00:00</td><td>invocation</td><td>69531.48</td></tr><tr><td>2026-02-13T15:11:59.238466+00:00</td><td>invoke_agent validator_agent</td><td>69530.74</td></tr><tr><td>2026-02-13T15:11:59.238589+00:00</td><td>guardrail.pii_guardrail</td><td>0.02</td></tr><tr><td>2026-02-13T15:11:59.238660+00:00</td><td>guardrail.topic_blocklist</td><td>0.01</td></tr><tr><td>2026-02-13T15:11:59.240727+00:00</td><td>call_llm</td><td>69528.43</td></tr><tr><td>2026-02-13T15:11:59.240825+00:00</td><td>generate_content mckopenai-gpt5-2025-08-07</td><td>69528.32</td></tr><tr><td>2026-02-13T15:12:10.743824+00:00</td><td>a2a_delegation</td><td>0.03</td></tr><tr><td>2026-02-13T15:12:10.745000+00:00</td><td>execute_tool transfer_to_agent</td><td>0.29</td></tr><tr><td>2026-02-13T15:12:10.745482+00:00</td><td>invoke_agent research_agent</td><td>58023.63</td></tr><tr><td>2026-02-13T15:12:10.745623+00:00</td><td>guardrail.pii_guardrail</td><td>0.02</td></tr><tr><td>2026-02-13T15:12:10.745685+00:00</td><td>guardrail.topic_blocklist</td><td>0.01</td></tr><tr><td>2026-02-13T15:12:10.747120+00:00</td><td>call_llm</td><td>19473.05</td></tr><tr><td>2026-02-13T15:12:10.747177+00:00</td><td>generate_content mckopenai-gpt5-2025-08-07</td><td>19472.96</td></tr><tr><td>2026-02-13T15:12:30.219458+00:00</td><td>execute_tool web_lookup</td><td>0.42</td></tr><tr><td>2026-02-13T15:12:30.222406+00:00</td><td>call_llm</td><td>38546.63</td></tr><tr><td>2026-02-13T15:12:30.222506+00:00</td><td>generate_content mckopenai-gpt5-2025-08-07</td><td>38546.50</td></tr><tr><td>2026-02-13T15:13:08.768627+00:00</td><td>guardrail.toxicity_guardrail</td><td>0.06</td></tr></tbody></table></details>
</body>
</html>
